@page "/Bubble_Chart"
@inject NavigationManager NavigationManager
@inject HttpClient HttpClient

<Tabs>
    <TabPane Key="1">
        <Tab>示例1</Tab>
        <ChildContent>
            <Bubble @ref="chart1" Data="data1" Config="config1" />
        </ChildContent>
    </TabPane>
    <TabPane Key="2">
        <Tab>示例2</Tab>
        <ChildContent>
            <Bubble @ref="chart2" Data="data2" Config="config2" />
        </ChildContent>
    </TabPane>
    @*<TabPane Key="3">
            <Tab>示例3</Tab>
            <ChildContent>
                <Bubble @ref="chart3" Data="data3" Config="config3" />
            </ChildContent>
        </TabPane>
        <TabPane Key="4">
            <Tab>示例4</Tab>
            <ChildContent>
                <Bubble @ref="chart4" Data="data4" Config="config4" />
            </ChildContent>
        </TabPane>*@
</Tabs>

@code{


    IChartComponent chart1;
    SmokingRateItem[] data1;

    IChartComponent chart2;
    SmokingRateItem[] data2;

    //IChartComponent chart3;
    //RevenueItem[] data3;

    //IChartComponent chart4;
    //SmokingRateItem[] data4;

    protected override async Task OnInitializedAsync()
    {
        data1 = await DemoData.SmokingRateAsync(NavigationManager, HttpClient);
        data2 = data1;
        await chart1.ChangeData(data1);

        await chart2.ChangeData(data2);

        await base.OnInitializedAsync();
    }

    #region 示例1

    //smoking-rate
    readonly BubbleConfig config1 = new BubbleConfig
    {
        XField = "change in female rate",
        YField = "change in male rate",
        SizeField = "pop",
        PointSize = new[] { 4, 30 },
        ColorField = new[] { "continent" },
        Color = new[] { "#ffd500", "#82cab2", "#193442", "#d18768", "#7e827a" },
        XAxis = new ValueTimeAxis
        {
            Visible = true,
            Max = 5,
            Min = -25
        }
    };

    #endregion 示例1

    #region 示例2

    //smoking-rate
    readonly BubbleConfig config2 = new BubbleConfig
    {
        XField = "change in female rate",
        YField = "change in male rate",
        SizeField = "pop",
        PointSize = new[] { 4, 30 },
        ColorField = new[] { "continent" },
        Color = new[] { "#ffd500", "#82cab2", "#193442", "#d18768", "#7e827a" },
        PointStyle = new GraphicStyle
        {
            Stroke = "#777777",
            LineWidth = 1,
            Opacity = 0.8,
        },
        XAxis = new ValueTimeAxis
        {
            Visible = true,
            Max = 5,
            Min = -25
        },
        Quadrant = new QuadrantConfig
        {
            Visible = true,
            XBaseline = 0,
            YBaseline = 0,
            RegionStyle = new object[]
                {
                new {fill= "#d8d0c0", opacity= 0.2},
                new {fill= "#a3dda1", opacity= 0.1},
                new {fill= "white", opacity= 0},
                new {fill="#d8d0c0", opacity=0.2}
                },
            Label = new
            {
                Text = new[]
                    {
                    "Female decrease,\nmale increase",
                    "Female & male decrease",
                    "Female &\n male increase",
                    "Male decrease,\nfemale increase"
                },
            }
        }
    };

    #endregion 示例2
}